{"version":3,"sources":["webpack:///./src/views/admin/AdminOrders.vue","webpack:///./src/components/AdminOrderModal.vue","webpack:///./src/components/AdminOrderModal.vue?d9a7","webpack:///./src/components/DelOrdersModal.vue","webpack:///./src/components/DelOrdersModal.vue?4277","webpack:///./src/components/DelAllOrdersModal.vue","webpack:///./src/components/DelAllOrdersModal.vue?5498","webpack:///./src/views/admin/AdminOrders.vue?0e79","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","colspan","page","pagination","getOrder","orders","item","key","id","$filters","date","create_at","user","name","email","tel","address","currency","total","is_paid","type","openModal","loadingStatus","loadingItem","disabled","ref","edit-order","tempOrder","updateOrder","delete-order","deleteOrder","deleteAllOrders","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","style","for","products","src","product","imageUrl","alt","title","category","qty","unit","price","paid_date","value","paidTime","$emit","emits","props","editOrder","Object","default","data","modal","methods","this","Math","floor","Date","now","watch","mixins","modalMixin","render","components","Pagination","AdminOrderModal","DelOrdersModal","DelAllOrders","num","current_page","url","$http","get","then","res","success","console","log","catch","error","delete","$refs","adminOrderDelModal","closeModal","alert","message","adminAllOrderDelModal","inOrder","clear","adminOrderModal","temp","put","created","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/chunk-dfd9a15a.2be42dbf.js","sourcesContent":["<template>\r\n  <div class=\"container content\">\r\n    <h1 class=\"text-center\">訂單列表</h1>\r\n    <div class=\"d-flex justify-content-center mt-5\">\r\n      <Pagination :page=\"pagination\" @get-product=\"getOrder\"></Pagination>\r\n    </div>\r\n    <!-- 訂單列表 -->\r\n    <table class=\"table align-middle mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"8%\">訂單日期</th>\r\n          <th width=\"9%\">客戶姓名</th>\r\n          <th width=\"10%\">客戶信箱</th>\r\n          <th width=\"10%\">客戶電話</th>\r\n          <th width=\"18%\">客戶地址</th>\r\n          <th width=\"11%\">訂單總價</th>\r\n          <th class=\"text-end\" width=\"9%\">付款狀態</th>\r\n          <th width=\"12%\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr class=\"align-middle\" v-for=\"item in orders\" :key=\"item.id\">\r\n          <td>{{ $filters.date(item.create_at) }}</td>\r\n          <td>{{ item.user.name }}</td>\r\n          <td>{{ item.user.email }}</td>\r\n          <td>{{ item.user.tel }}</td>\r\n          <td>{{ item.user.address }}</td>\r\n          <td>\r\n            <div class=\"h5\">{{ $filters.currency(item.total) }} 元</div>\r\n          </td>\r\n          <td class=\"text-end\">\r\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\r\n            <span v-else class=\"text-muted\">未付款</span>\r\n          </td>\r\n          <td class=\"text-end\">\r\n            <div class=\"btn-group\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-primary btn-sm\"\r\n                @click=\"openModal('edit', item)\"\r\n              >\r\n                編輯\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger btn-sm\"\r\n                @click=\"openModal('delete', item)\"\r\n              >\r\n                <span\r\n                  v-if=\"loadingStatus.loadingItem === item.id\"\r\n                  class=\"material-icons animate-spin\"\r\n                >\r\n                  cached\r\n                </span>\r\n                刪除\r\n              </button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td colspan=\"8\" class=\"text-end\">\r\n            <button\r\n              class=\"btn btn-outline-danger\"\r\n              type=\"button\"\r\n              @click=\"openModal('deleteall', item)\"\r\n              :disabled=\"orders <= 1\"\r\n            >\r\n              <span\r\n                v-if=\"loadingStatus.loadingItem === 1\"\r\n                class=\"material-icons animate-spin\"\r\n              >\r\n                cached\r\n              </span>\r\n              刪除所有訂單\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n    <div class=\"d-flex justify-content-center mt-5\">\r\n      <Pagination :page=\"pagination\" @get-product=\"getOrder\"></Pagination>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <AdminOrderModal\r\n      ref=\"adminOrderModal\"\r\n      :edit-order=\"tempOrder\"\r\n      @update-order=\"updateOrder\"\r\n    ></AdminOrderModal>\r\n    <!-- 刪除按鈕彈出 Modal -->\r\n    <DelOrdersModal\r\n      ref=\"adminOrderDelModal\"\r\n      :delete-order=\"tempOrder\"\r\n      @delete-orders=\"deleteOrder\"\r\n    ></DelOrdersModal>\r\n    <DelAllOrders\r\n      ref=\"adminAllOrderDelModal\"\r\n      @delete-all-orders=\"deleteAllOrders\"\r\n    ></DelAllOrders>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from \"@/components/Pagination.vue\";\r\nimport AdminOrderModal from \"@/components/AdminOrderModal.vue\";\r\nimport DelOrdersModal from \"@/components/DelOrdersModal.vue\";\r\nimport DelAllOrders from \"@/components/DelAllOrdersModal.vue\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loadingStatus: {\r\n        loadingItem: \"\",\r\n      },\r\n      orders: {},\r\n      pagination: {},\r\n      tempOrder: {},\r\n    };\r\n  },\r\n  components: {\r\n    Pagination,\r\n    AdminOrderModal,\r\n    DelOrdersModal,\r\n    DelAllOrders,\r\n  },\r\n  methods: {\r\n    getOrder(num = this.pagination.current_page || 1) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${num};`;\r\n      this.$http\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            const { orders, pagination } = res.data;\r\n            this.orders = orders;\r\n            this.pagination = pagination;\r\n            console.log(this.orders);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    deleteOrder(item) {\r\n      this.loadingStatus.loadingItem = item.id;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`;\r\n      this.$http\r\n        .delete(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.loadingStatus.loadingItem = \"\";\r\n            this.$refs.adminOrderDelModal.closeModal();\r\n            alert(res.data.message);\r\n            this.getOrder();\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    deleteAllOrders() {\r\n      this.loadingStatus.loadingItem = 1;\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders/all`;\r\n      this.$http\r\n        .delete(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.loadingStatus.loadingItem = \"\";\r\n            this.$refs.adminAllOrderDelModal.closeModal();\r\n            alert(res.data.message);\r\n            this.getOrder();\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    openModal(inOrder, item) {\r\n      switch (inOrder) {\r\n        case \"edit\":\r\n          // 因為傳參考特性會連動到資料，因此將資料進行淺層複製\r\n          this.getOrder();\r\n          this.tempOrder = { ...item };\r\n          console.clear();\r\n          console.log(this.tempOrder);\r\n          this.$refs.adminOrderModal.openModal();\r\n          break;\r\n        case \"delete\":\r\n          // 因為傳參考特性會連動到資料，因此將資料進行淺層複製\r\n          this.tempOrder = { ...item };\r\n          // Modal需要拿到 title 和刪除按鈕時需要獲得 id\r\n          this.$refs.adminOrderDelModal.openModal();\r\n          break;\r\n        case \"deleteall\":\r\n          this.$refs.adminAllOrderDelModal.openModal();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    // 於modal內按下確認按鈕時觸發\r\n    updateOrder(temp) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${temp.id}`;\r\n      this.$http\r\n        .put(url, { data: temp }) // post 或 put\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$refs.adminOrderModal.closeModal(); // 關掉 modal\r\n            this.getOrder(); // 重整畫面\r\n          } else {\r\n            alert(res.data.message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    console.clear();\r\n    this.getOrder();\r\n  },\r\n};\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    ref=\"modal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"customerOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl modal-dialog-centered\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-primary text-white\">\r\n          <h5 id=\"customerOrderModalLabel\" class=\"modal-title\">\r\n            <span>修改客戶訂單內容</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <h3 class=\"text-primary\">選購商品</h3>\r\n          <div class=\"px-3\">\r\n            <table class=\"table align-middle\">\r\n              <thead>\r\n                <tr>\r\n                  <th>縮圖</th>\r\n                  <th>品名</th>\r\n                  <th>類別</th>\r\n                  <th>數量</th>\r\n                  <th class=\"text-end\">單價</th>\r\n                  <th class=\"text-end\">合計</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\r\n                  <th>\r\n                    <img\r\n                      class=\"product-img\"\r\n                      :src=\"item.product.imageUrl\"\r\n                      :alt=\"item.product.title\"\r\n                    />\r\n                  </th>\r\n                  <th>\r\n                    {{ item.product.title }}\r\n                  </th>\r\n                  <th>\r\n                    {{ item.product.category }}\r\n                  </th>\r\n                  <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.product.price) }}\r\n                  </td>\r\n                  <td class=\"text-end\">\r\n                    {{ $filters.currency(item.qty * item.product.price) }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-4\">\r\n              <h3 class=\"text-primary\">用戶資料</h3>\r\n              <table class=\"table\">\r\n                <tbody v-if=\"tempOrder.user\">\r\n                  <tr>\r\n                    <th style=\"width: 100px\">姓名</th>\r\n                    <td>{{ tempOrder.user.name }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Email</th>\r\n                    <td>{{ tempOrder.user.email }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>電話</th>\r\n                    <td>{{ tempOrder.user.tel }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>地址</th>\r\n                    <td>{{ tempOrder.user.address }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <h3 class=\"text-primary\">訂單細節</h3>\r\n              <table class=\"table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width: 100px\">訂單編號</th>\r\n                    <td>{{ tempOrder.id }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>下單時間</th>\r\n                    <td>{{ $filters.date(tempOrder.create_at) }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款時間</th>\r\n                    <td>\r\n                      <span v-if=\"tempOrder.paid_date\">\r\n                        {{ $filters.date(tempOrder.paid_date) }}\r\n                      </span>\r\n                      <span v-else>尚無資訊</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>付款狀態</th>\r\n                    <td>\r\n                      <strong v-if=\"tempOrder.is_paid\" class=\"text-success\"\r\n                        >已付款</strong\r\n                      >\r\n                      <span v-else class=\"text-muted\">尚未付款</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>總金額</th>\r\n                    <td>{{ $filters.currency(tempOrder.total) }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div class=\"d-flex justify-content-end\">\r\n              <div class=\"form-check\">\r\n                <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"\"\r\n                  id=\"flexCheckDefault\"\r\n                  v-model=\"tempOrder.is_paid\"\r\n                  @click=\"paidTime()\"\r\n                />\r\n                <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                  <span v-if=\"tempOrder.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"$emit('update-order', tempOrder)\"\r\n          >\r\n            確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\r\n\r\nexport default {\r\n  emits: [\"update-order\"],\r\n  props: {\r\n    editOrder: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n      tempOrder: {},\r\n    };\r\n  },\r\n  methods: {\r\n    paidTime() {\r\n      if (this.tempOrder.paid_date) {\r\n        this.tempOrder.paid_date = '';\r\n      } else {\r\n        this.tempOrder.paid_date = Math.floor(Date.now()/1000);\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    editOrder() {\r\n      this.tempOrder = this.editOrder;\r\n    },\r\n  },\r\n  mixins: [modalMixin],\r\n};\r\n</script>\r\n","import { render } from \"./AdminOrderModal.vue?vue&type=template&id=73bf6ff5\"\nimport script from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    id=\"delOrderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 id=\"delOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除單筆訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div v-if=\"deleteOrder.id\" class=\"modal-body\">\r\n          是否刪除\r\n          <strong class=\"text-danger\">{{ deleteOrder.user.name }}</strong>\r\n          的訂單(刪除後將無法恢復)。\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            @click=\"$emit('delete-orders', deleteOrder)\"\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n          >\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from \"@/assets/js/mixins/modalMixin\";\r\nexport default {\r\n  props: {\r\n    deleteOrder: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n    };\r\n  },\r\n  mixins: [modalMixin],\r\n};\r\n</script>\r\n","import { render } from \"./DelOrdersModal.vue?vue&type=template&id=0c72a2ab\"\nimport script from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelOrdersModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    id=\"delAllOrderModal\"\r\n    ref=\"modal\"\r\n    class=\"modal fade\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"delAllOrderModalLabel\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 id=\"delAllOrderModalLabel\" class=\"modal-title\">\r\n            <span>刪除全部訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body text-center\">\r\n          是否刪除所有訂單<br>\r\n          <strong class=\"text-danger fs-4\">刪除後將無法復原</strong>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            @click=\"$emit('delete-all-orders')\"\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n          >\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/assets/js/mixins/modalMixin';\r\nexport default {\r\n  data() {\r\n    return {\r\n      modal: \"\",\r\n    };\r\n  },\r\n  mixins: [modalMixin],\r\n};\r\n</script>","import { render } from \"./DelAllOrdersModal.vue?vue&type=template&id=2e45d3cf\"\nimport script from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelAllOrdersModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./AdminOrders.vue?vue&type=template&id=4a0ad043\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}